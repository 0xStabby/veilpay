{
  "version": 4,
  "terraform_version": "1.14.3",
  "serial": 7,
  "lineage": "2e74c799-7f6b-0ffd-ff55-333a78c047a7",
  "outputs": {
    "relayer_ip": {
      "value": "66.42.64.115",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "vultr_firewall_group",
      "name": "relayer",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "date_created": "2026-01-17T17:07:44+00:00",
            "date_modified": "2026-01-17T17:07:44+00:00",
            "description": "veilpay-relayer",
            "id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "instance_count": 0,
            "max_rule_count": 50,
            "rule_count": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vultr_firewall_rule",
      "name": "http",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "firewall_group_id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "id": "2",
            "ip_type": "v4",
            "notes": "HTTP",
            "port": "80",
            "protocol": "tcp",
            "source": "",
            "subnet": "0.0.0.0",
            "subnet_size": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "vultr_firewall_group.relayer"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vultr_firewall_rule",
      "name": "https",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "firewall_group_id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "id": "1",
            "ip_type": "v4",
            "notes": "HTTPS",
            "port": "443",
            "protocol": "tcp",
            "source": "",
            "subnet": "0.0.0.0",
            "subnet_size": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "vultr_firewall_group.relayer"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vultr_firewall_rule",
      "name": "relayer",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "firewall_group_id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "id": "4",
            "ip_type": "v4",
            "notes": "Relayer port",
            "port": "8080",
            "protocol": "tcp",
            "source": "",
            "subnet": "0.0.0.0",
            "subnet_size": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "vultr_firewall_group.relayer"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vultr_firewall_rule",
      "name": "ssh",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "firewall_group_id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "id": "3",
            "ip_type": "v4",
            "notes": "SSH",
            "port": "22",
            "protocol": "tcp",
            "source": "",
            "subnet": "0.0.0.0",
            "subnet_size": 0
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "vultr_firewall_group.relayer"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vultr_instance",
      "name": "relayer",
      "provider": "provider[\"registry.terraform.io/vultr/vultr\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "activation_email": null,
            "allowed_bandwidth": 3,
            "app_id": 0,
            "app_variables": null,
            "backups": "disabled",
            "backups_schedule": [],
            "date_created": "2026-01-17T17:07:51+00:00",
            "ddos_protection": false,
            "default_password": "-tH8T.?bVp,[Jb)(",
            "disable_public_ipv4": null,
            "disk": 55,
            "enable_ipv6": null,
            "features": [],
            "firewall_group_id": "675e7d75-f475-429b-8f74-3484eebf8838",
            "gateway_v4": "66.42.64.1",
            "hostname": "vultr.guest",
            "id": "b92f03ec-b82e-481b-8b03-bc7c6ef29aad",
            "image_id": "",
            "internal_ip": "",
            "ipxe_chain_url": null,
            "iso_id": null,
            "kvm": "https://my.vultr.com/subs/vps/novnc/api.php?data=djJ8N2RqR1lHdnItUkRyYmFBUk1hUEwtTkFBUXlaQW1sckd89r7YPw4clYn5zzaAzmgJHHKkoLngTjgUMB43xIWUTqMDkwCi5hDxuon5qK_rnI_h4zjErgHYofPL8pqfuExIU3YAqTyZic1_aOetYkKhu8gJz2O3ZemjdDeexAL3F9HGWQOs9NcHQ2lgLI2A6GF0TH4XG7Uc_Sue-JbLvsXsWGlwWtEVUHhUvNW5hj79qm4",
            "label": "veilpay-relayer",
            "main_ip": "66.42.64.115",
            "netmask_v4": "255.255.254.0",
            "os": "Ubuntu 24.04 LTS x64",
            "os_id": 2284,
            "plan": "vc2-1c-2gb",
            "power_status": "running",
            "ram": 2048,
            "region": "sea",
            "reserved_ip_id": null,
            "script_id": null,
            "server_status": "ok",
            "snapshot_id": "",
            "ssh_key_ids": [
              "651d234b-8803-4f0e-a632-845d0db6c54a"
            ],
            "status": "active",
            "tags": null,
            "timeouts": null,
            "user_data": "#cloud-config\npackage_update: true\npackage_upgrade: true\npackages:\n  - nginx\n  - curl\n\nruncmd:\n  - curl -fsSL https://deb.nodesource.com/setup_18.x | bash -\n  - apt-get install -y nodejs\n  - npm install -g pnpm\n  - useradd -m -s /bin/bash relayer || true\n  - mkdir -p /opt/veilpay-relayer\n  - chown -R relayer:relayer /opt/veilpay-relayer\n  - |\n    cat \u003e/etc/systemd/system/veilpay-relayer.service \u003c\u003c'EOF'\n    [Unit]\n    Description=Veilpay Relayer\n    After=network.target\n\n    [Service]\n    Type=simple\n    User=relayer\n    WorkingDirectory=/opt/veilpay-relayer\n    Environment=PORT=8080\n    Environment=RELAYER_RPC_URL=https://betty-1cgsj3-fast-devnet.helius-rpc.com\n    Environment=RELAYER_ALLOWED_ORIGINS=*\n    ExecStart=/usr/bin/node /opt/veilpay-relayer/dist/index.js\n    Restart=always\n    RestartSec=5\n\n    [Install]\n    WantedBy=multi-user.target\n    EOF\n  - systemctl daemon-reload\n  - systemctl enable veilpay-relayer\n  - |\n    cat \u003e/etc/nginx/sites-available/veilpay-relayer \u003c\u003c'EOF'\n    server {\n      listen 80 default_server;\n      listen [::]:80 default_server;\n\n      location / {\n        proxy_pass http://127.0.0.1:8080;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n      }\n    }\n    EOF\n  - rm -f /etc/nginx/sites-enabled/default\n  - ln -sf /etc/nginx/sites-available/veilpay-relayer /etc/nginx/sites-enabled/veilpay-relayer\n  - nginx -t\n  - systemctl restart nginx\n",
            "user_scheme": "root",
            "v6_main_ip": "",
            "v6_network": "",
            "v6_network_size": 0,
            "vcpu_count": 1,
            "vpc2_ids": null,
            "vpc_ids": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "default_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "vultr_firewall_group.relayer"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
